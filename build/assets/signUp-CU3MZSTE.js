import{u as y,r as D,j as e,R as k,B as o}from"./index-BnDtDxmJ.js";import{l as E,S as R,P as p,m as P,g as S,u as C,f as F}from"./1558355117500-Bxdh337b.js";import{u as I,c as f,C as b,s as T}from"./index.esm-CXjW7jhD.js";const L=()=>{var u,x,g,h;const j=y(),{register:c,handleSubmit:N,formState:{errors:s},control:m,watch:w,setValue:r}=I({defaultValues:{userDetails:{username:"",phoneNumber:"",email:"",password:""},permissions:{resource:"default/local",actions:["read"]}}}),v=w("userDetails.password"),i=async a=>{const t=new FormData;Object.keys(a).forEach(l=>{typeof a[l]=="object"&&a[l]!==null?Object.keys(a[l]).forEach(n=>{a[l][n]!==""&&(r(`${l}.${n}`,a[l][n]),t.append(`${l}[${n}]`,a[l][n]))}):a[l]!==""&&(r(l,a[l]),t.append(l,a[l]))});try{const l=await T(t);o.success(l.message),setTimeout(()=>j("/user/login"),3e3)}catch(l){o.error("Registration failed: "+l.message)}};D.useEffect(()=>{r("userDetails.phoneNumber","")},[r]);const d=a=>{o.error(a)};return e.jsx("div",{className:"p-10 min-h-screen flex items-center justify-center bg-gray-50",children:e.jsxs("div",{className:"flex lg:flex-row lg:w-[80%] shadow-lg rounded-xl min-h-[60vh]",children:[e.jsx("img",{className:"max-w-[450px] rounded-l-lg",src:E,alt:"Login Illustration"}),e.jsx("div",{className:"bg-white w-full flex items-center justify-center",children:e.jsxs(R,{className:"max-w-[80%] w-full",type:"slideUp",duration:400,delay:300,children:[e.jsxs("div",{className:"text-center mb-10",children:[e.jsx("h1",{className:"text-5xl font-semibold",children:"Tạo tài khoản mới"}),e.jsx("p",{className:"text-gray-500 text-2xl mt-2",children:"Hãy đăng ký để tham gia cộng đồng của chúng tôi!"})]}),e.jsxs("form",{className:"space-y-8",onSubmit:N(i),children:[e.jsxs("div",{className:"space-y-6",children:[e.jsxs("div",{className:"relative",children:[e.jsx("label",{htmlFor:"name",className:"block text-2xl font-medium text-left text-gray field-label",children:"Tên"}),e.jsx("input",{className:f("text-3xl border-none mt-2 block w-full h-50 px-4 py-3 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500",{"ring-2 ring-red-500":(u=s==null?void 0:s.userDetails)==null?void 0:u.username}),id:"name",type:"text",placeholder:"Nhập Tên",...c("userDetails.username",{required:"Tên không được để trống"})}),((x=s==null?void 0:s.userDetails)==null?void 0:x.username)&&e.jsx("span",{className:"text-red-500 text-md",children:s.userDetails.name.message})]}),e.jsxs("div",{className:"relative",children:[e.jsx("label",{htmlFor:"email",className:"block text-2xl font-medium text-left text-gray field-label",children:"E-mail"}),e.jsx("input",{className:f("text-3xl border-none mt-2 block w-full h-50 px-4 py-3 rounded-lg shadow-sm focus:ring-blue-500 focus:border-blue-500",{"ring-2 ring-red-500":(g=s==null?void 0:s.userDetails)==null?void 0:g.email}),id:"email",type:"email",placeholder:"Nhập E-Mail",...c("userDetails.email",{required:"E-mail không được để trống",pattern:{value:/^\S+@\S+$/i,message:"E-mail không hợp lệ"}})}),((h=s==null?void 0:s.userDetails)==null?void 0:h.email)&&e.jsx("span",{className:"text-red-500 text-md",children:s.userDetails.email.message})]}),e.jsx(b,{name:"userDetails.password",control:m,rules:{required:"Mật khẩu không được để trống"},render:({field:a})=>{var t,l;return e.jsx(p,{id:"password",placeholder:"Nhập mật khẩu",error:(t=s==null?void 0:s.userDetails)==null?void 0:t.password,innerRef:a.ref,isInvalid:(l=s==null?void 0:s.userDetails)==null?void 0:l.password,value:a.value,onChange:a.onChange})}}),e.jsx(b,{name:"confirmPassword",control:m,rules:{required:"Mật khẩu không khớp",validate:a=>a===v||"Mật khẩu không khớp"},render:({field:a})=>e.jsx(p,{id:"confirmPassword",placeholder:"Nhập lại mật khẩu",error:s==null?void 0:s.confirmPassword,innerRef:a.ref,isInvalid:s==null?void 0:s.confirmPassword,value:a.value,onChange:a.onChange})}),(s==null?void 0:s.confirmPassword)&&e.jsx("span",{className:"text-red-500 text-md",children:s.confirmPassword.message})]}),e.jsxs("div",{className:"flex justify-between items-center",children:[e.jsx(k,{to:"/user/login",className:"text-md text-blue-600 hover:underline",children:"Đã có tài khoản? Đăng nhập"}),e.jsx("button",{type:"submit",className:"bg-blue-600 text-white py-3 px-5 rounded-lg hover:bg-blue-700 transition-all",children:"Đăng ký"})]})]}),e.jsxs("div",{className:"my-10",children:[e.jsxs("div",{className:"relative text-center",children:[e.jsx("span",{className:"absolute inset-x-0 top-1/2 -translate-y-1/2 h-px bg-gray-300"}),e.jsx("span",{className:"text-3xl relative bg-white px-4 text-lg text-gray-500",children:"hoặc"})]}),e.jsxs("div",{className:"mt-8 grid grid-cols-2 gap-6",children:[e.jsxs(P,{className:"border-none flex items-center justify-center gap-3 bg-gray-100 border border-gray-300 rounded-lg py-3 px-5 hover:bg-gray-200 transition-all",client_id:void 0,onReject:d,onResolve:i,children:[e.jsx("img",{className:"w-6",src:S,alt:"Google"}),"Google"]}),e.jsxs(C,{className:"border-none flex items-center justify-center gap-3 bg-gray-100 border border-gray-300 rounded-lg py-3 px-5 hover:bg-gray-200 transition-all",appId:void 0,onReject:d,onResolve:i,children:[e.jsx("img",{className:"w-6",src:F,alt:"Facebook"}),"Facebook"]})]})]})]})})]})})};export{L as default};
